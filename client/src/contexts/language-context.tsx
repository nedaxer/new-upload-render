import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';

export interface Language {
  code: string;
  name: string;
  nativeName: string;
  flag: string;
}

interface LanguageContextType {
  currentLanguage: Language;
  languages: Language[];
  setLanguage: (language: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Comprehensive list of 130+ languages
const LANGUAGES: Language[] = [
  { code: 'en', name: 'English', nativeName: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'zh', name: 'Chinese (Simplified)', nativeName: 'ç®€ä½“ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'zh-TW', name: 'Chinese (Traditional)', nativeName: 'ç¹é«”ä¸­æ–‡', flag: 'ğŸ‡¹ğŸ‡¼' },
  { code: 'es', name: 'Spanish', nativeName: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'hi', name: 'Hindi', nativeName: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'ar', name: 'Arabic', nativeName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
  { code: 'pt', name: 'Portuguese', nativeName: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
  { code: 'bn', name: 'Bengali', nativeName: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ğŸ‡§ğŸ‡©' },
  { code: 'ru', name: 'Russian', nativeName: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
  { code: 'ja', name: 'Japanese', nativeName: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  { code: 'ko', name: 'Korean', nativeName: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
  { code: 'fr', name: 'French', nativeName: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
  { code: 'de', name: 'German', nativeName: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'it', name: 'Italian', nativeName: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
  { code: 'tr', name: 'Turkish', nativeName: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
  { code: 'vi', name: 'Vietnamese', nativeName: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
  { code: 'th', name: 'Thai', nativeName: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
  { code: 'pl', name: 'Polish', nativeName: 'Polski', flag: 'ğŸ‡µğŸ‡±' },
  { code: 'nl', name: 'Dutch', nativeName: 'Nederlands', flag: 'ğŸ‡³ğŸ‡±' },
  { code: 'sv', name: 'Swedish', nativeName: 'Svenska', flag: 'ğŸ‡¸ğŸ‡ª' },
  { code: 'da', name: 'Danish', nativeName: 'Dansk', flag: 'ğŸ‡©ğŸ‡°' },
  { code: 'no', name: 'Norwegian', nativeName: 'Norsk', flag: 'ğŸ‡³ğŸ‡´' },
  { code: 'fi', name: 'Finnish', nativeName: 'Suomi', flag: 'ğŸ‡«ğŸ‡®' },
  { code: 'cs', name: 'Czech', nativeName: 'ÄŒeÅ¡tina', flag: 'ğŸ‡¨ğŸ‡¿' },
  { code: 'sk', name: 'Slovak', nativeName: 'SlovenÄina', flag: 'ğŸ‡¸ğŸ‡°' },
  { code: 'hu', name: 'Hungarian', nativeName: 'Magyar', flag: 'ğŸ‡­ğŸ‡º' },
  { code: 'ro', name: 'Romanian', nativeName: 'RomÃ¢nÄƒ', flag: 'ğŸ‡·ğŸ‡´' },
  { code: 'bg', name: 'Bulgarian', nativeName: 'Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸', flag: 'ğŸ‡§ğŸ‡¬' },
  { code: 'hr', name: 'Croatian', nativeName: 'Hrvatski', flag: 'ğŸ‡­ğŸ‡·' },
  { code: 'sr', name: 'Serbian', nativeName: 'Ğ¡Ñ€Ğ¿ÑĞºĞ¸', flag: 'ğŸ‡·ğŸ‡¸' },
  { code: 'sl', name: 'Slovenian', nativeName: 'SlovenÅ¡Äina', flag: 'ğŸ‡¸ğŸ‡®' },
  { code: 'et', name: 'Estonian', nativeName: 'Eesti', flag: 'ğŸ‡ªğŸ‡ª' },
  { code: 'lv', name: 'Latvian', nativeName: 'LatvieÅ¡u', flag: 'ğŸ‡±ğŸ‡»' },
  { code: 'lt', name: 'Lithuanian', nativeName: 'LietuviÅ³', flag: 'ğŸ‡±ğŸ‡¹' },
  { code: 'uk', name: 'Ukrainian', nativeName: 'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°', flag: 'ğŸ‡ºğŸ‡¦' },
  { code: 'be', name: 'Belarusian', nativeName: 'Ğ‘ĞµĞ»Ğ°Ñ€ÑƒÑĞºĞ°Ñ', flag: 'ğŸ‡§ğŸ‡¾' },
  { code: 'mk', name: 'Macedonian', nativeName: 'ĞœĞ°ĞºĞµĞ´Ğ¾Ğ½ÑĞºĞ¸', flag: 'ğŸ‡²ğŸ‡°' },
  { code: 'sq', name: 'Albanian', nativeName: 'Shqip', flag: 'ğŸ‡¦ğŸ‡±' },
  { code: 'el', name: 'Greek', nativeName: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', flag: 'ğŸ‡¬ğŸ‡·' },
  { code: 'he', name: 'Hebrew', nativeName: '×¢×‘×¨×™×ª', flag: 'ğŸ‡®ğŸ‡±' },
  { code: 'fa', name: 'Persian', nativeName: 'ÙØ§Ø±Ø³ÛŒ', flag: 'ğŸ‡®ğŸ‡·' },
  { code: 'ur', name: 'Urdu', nativeName: 'Ø§Ø±Ø¯Ùˆ', flag: 'ğŸ‡µğŸ‡°' },
  { code: 'sw', name: 'Swahili', nativeName: 'Kiswahili', flag: 'ğŸ‡°ğŸ‡ª' },
  { code: 'am', name: 'Amharic', nativeName: 'áŠ áˆ›áˆ­áŠ›', flag: 'ğŸ‡ªğŸ‡¹' },
  { code: 'ti', name: 'Tigrinya', nativeName: 'á‰µáŒáˆ­áŠ›', flag: 'ğŸ‡ªğŸ‡·' },
  { code: 'yo', name: 'Yoruba', nativeName: 'YorÃ¹bÃ¡', flag: 'ğŸ‡³ğŸ‡¬' },
  { code: 'ig', name: 'Igbo', nativeName: 'Asá»¥sá»¥ Igbo', flag: 'ğŸ‡³ğŸ‡¬' },
  { code: 'ha', name: 'Hausa', nativeName: 'Harshen Hausa', flag: 'ğŸ‡³ğŸ‡¬' },
  { code: 'zu', name: 'Zulu', nativeName: 'isiZulu', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'xh', name: 'Xhosa', nativeName: 'isiXhosa', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'af', name: 'Afrikaans', nativeName: 'Afrikaans', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'id', name: 'Indonesian', nativeName: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
  { code: 'ms', name: 'Malay', nativeName: 'Bahasa Melayu', flag: 'ğŸ‡²ğŸ‡¾' },
  { code: 'tl', name: 'Filipino', nativeName: 'Filipino', flag: 'ğŸ‡µğŸ‡­' },
  { code: 'ta', name: 'Tamil', nativeName: 'à®¤à®®à®¿à®´à¯', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'te', name: 'Telugu', nativeName: 'à°¤à±†à°²à±à°—à±', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'mr', name: 'Marathi', nativeName: 'à¤®à¤°à¤¾à¤ à¥€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'gu', name: 'Gujarati', nativeName: 'àª—à«àªœàª°àª¾àª¤à«€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'kn', name: 'Kannada', nativeName: 'à²•à²¨à³à²¨à²¡', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'ml', name: 'Malayalam', nativeName: 'à´®à´²à´¯à´¾à´³à´‚', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'or', name: 'Odia', nativeName: 'à¬“à¬¡à¬¼à¬¿à¬†', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'pa', name: 'Punjabi', nativeName: 'à¨ªà©°à¨œà¨¾à¨¬à©€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'as', name: 'Assamese', nativeName: 'à¦…à¦¸à¦®à§€à¦¯à¦¼à¦¾', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'ne', name: 'Nepali', nativeName: 'à¤¨à¥‡à¤ªà¤¾à¤²à¥€', flag: 'ğŸ‡³ğŸ‡µ' },
  { code: 'si', name: 'Sinhala', nativeName: 'à·ƒà·’à¶‚à·„à¶½', flag: 'ğŸ‡±ğŸ‡°' },
  { code: 'my', name: 'Myanmar', nativeName: 'á€™á€¼á€”á€ºá€™á€¬', flag: 'ğŸ‡²ğŸ‡²' },
  { code: 'km', name: 'Khmer', nativeName: 'ááŸ’á˜áŸ‚áš', flag: 'ğŸ‡°ğŸ‡­' },
  { code: 'lo', name: 'Lao', nativeName: 'àº¥àº²àº§', flag: 'ğŸ‡±ğŸ‡¦' },
  { code: 'mn', name: 'Mongolian', nativeName: 'ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»', flag: 'ğŸ‡²ğŸ‡³' },
  { code: 'ka', name: 'Georgian', nativeName: 'áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜', flag: 'ğŸ‡¬ğŸ‡ª' },
  { code: 'hy', name: 'Armenian', nativeName: 'Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶', flag: 'ğŸ‡¦ğŸ‡²' },
  { code: 'az', name: 'Azerbaijani', nativeName: 'AzÉ™rbaycan', flag: 'ğŸ‡¦ğŸ‡¿' },
  { code: 'kk', name: 'Kazakh', nativeName: 'ÒšĞ°Ğ·Ğ°Ò›', flag: 'ğŸ‡°ğŸ‡¿' },
  { code: 'ky', name: 'Kyrgyz', nativeName: 'ĞšÑ‹Ñ€Ğ³Ñ‹Ğ·', flag: 'ğŸ‡°ğŸ‡¬' },
  { code: 'uz', name: 'Uzbek', nativeName: 'OÊ»zbek', flag: 'ğŸ‡ºğŸ‡¿' },
  { code: 'tk', name: 'Turkmen', nativeName: 'TÃ¼rkmen', flag: 'ğŸ‡¹ğŸ‡²' },
  { code: 'tg', name: 'Tajik', nativeName: 'Ğ¢Ğ¾Ò·Ğ¸ĞºÓ£', flag: 'ğŸ‡¹ğŸ‡¯' },
  { code: 'is', name: 'Icelandic', nativeName: 'Ãslenska', flag: 'ğŸ‡®ğŸ‡¸' },
  { code: 'mt', name: 'Maltese', nativeName: 'Malti', flag: 'ğŸ‡²ğŸ‡¹' },
  { code: 'ga', name: 'Irish', nativeName: 'Gaeilge', flag: 'ğŸ‡®ğŸ‡ª' },
  { code: 'cy', name: 'Welsh', nativeName: 'Cymraeg', flag: 'ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿' },
  { code: 'eu', name: 'Basque', nativeName: 'Euskera', flag: 'ğŸ´ó ¥ó ³ó °ó ¶ó ¿' },
  { code: 'ca', name: 'Catalan', nativeName: 'CatalÃ ', flag: 'ğŸ´ó ¥ó ³ó £ó ´ó ¿' },
  { code: 'gl', name: 'Galician', nativeName: 'Galego', flag: 'ğŸ´ó ¥ó ³ó §ó ¡ó ¿' },
  { code: 'lb', name: 'Luxembourgish', nativeName: 'LÃ«tzebuergesch', flag: 'ğŸ‡±ğŸ‡º' },
  { code: 'rm', name: 'Romansh', nativeName: 'Rumantsch', flag: 'ğŸ‡¨ğŸ‡­' },
  { code: 'fo', name: 'Faroese', nativeName: 'FÃ¸royskt', flag: 'ğŸ‡«ğŸ‡´' },
  { code: 'kl', name: 'Greenlandic', nativeName: 'Kalaallisut', flag: 'ğŸ‡¬ğŸ‡±' },
  { code: 'se', name: 'Northern Sami', nativeName: 'DavvisÃ¡megiella', flag: 'ğŸ‡¸ğŸ‡ª' },
  { code: 'bo', name: 'Tibetan', nativeName: 'à½–à½¼à½‘à¼‹à½¡à½²à½‚', flag: 'ğŸ´ó £ó ®ó ¸ó ºó ¿' },
  { code: 'dz', name: 'Dzongkha', nativeName: 'à½¢à¾«à½¼à½„à¼‹à½', flag: 'ğŸ‡§ğŸ‡¹' },
  { code: 'so', name: 'Somali', nativeName: 'Soomaali', flag: 'ğŸ‡¸ğŸ‡´' },
  { code: 'rw', name: 'Kinyarwanda', nativeName: 'Ikinyarwanda', flag: 'ğŸ‡·ğŸ‡¼' },
  { code: 'rn', name: 'Kirundi', nativeName: 'Ikirundi', flag: 'ğŸ‡§ğŸ‡®' },
  { code: 'mg', name: 'Malagasy', nativeName: 'Malagasy', flag: 'ğŸ‡²ğŸ‡¬' },
  { code: 'ny', name: 'Chichewa', nativeName: 'Chichewa', flag: 'ğŸ‡²ğŸ‡¼' },
  { code: 'sn', name: 'Shona', nativeName: 'chiShona', flag: 'ğŸ‡¿ğŸ‡¼' },
  { code: 'st', name: 'Sesotho', nativeName: 'Sesotho', flag: 'ğŸ‡±ğŸ‡¸' },
  { code: 'tn', name: 'Setswana', nativeName: 'Setswana', flag: 'ğŸ‡§ğŸ‡¼' },
  { code: 've', name: 'Tshivenda', nativeName: 'Tshivená¸“a', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'ts', name: 'Xitsonga', nativeName: 'Xitsonga', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'ss', name: 'Siswati', nativeName: 'SiSwati', flag: 'ğŸ‡¸ğŸ‡¿' },
  { code: 'nr', name: 'Southern Ndebele', nativeName: 'isiNdebele', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'nso', name: 'Northern Sotho', nativeName: 'Sepedi', flag: 'ğŸ‡¿ğŸ‡¦' },
  { code: 'ak', name: 'Akan', nativeName: 'Akan', flag: 'ğŸ‡¬ğŸ‡­' },
  { code: 'tw', name: 'Twi', nativeName: 'Twi', flag: 'ğŸ‡¬ğŸ‡­' },
  { code: 'ee', name: 'Ewe', nativeName: 'EÊ‹egbe', flag: 'ğŸ‡¬ğŸ‡­' },
  { code: 'ff', name: 'Fulah', nativeName: 'Fulfulde', flag: 'ğŸ‡¸ğŸ‡³' },
  { code: 'wo', name: 'Wolof', nativeName: 'Wollof', flag: 'ğŸ‡¸ğŸ‡³' },
  { code: 'bm', name: 'Bambara', nativeName: 'Bamanankan', flag: 'ğŸ‡²ğŸ‡±' },
  { code: 'dyu', name: 'Dyula', nativeName: 'Dyula', flag: 'ğŸ‡¨ğŸ‡®' },
  { code: 'ln', name: 'Lingala', nativeName: 'LingÃ¡la', flag: 'ğŸ‡¨ğŸ‡©' },
  { code: 'kg', name: 'Kongo', nativeName: 'Kikongo', flag: 'ğŸ‡¨ğŸ‡©' },
  { code: 'lua', name: 'Luba-Katanga', nativeName: 'Tshiluba', flag: 'ğŸ‡¨ğŸ‡©' },
  { code: 'sg', name: 'Sango', nativeName: 'SÃ¤ngÃ¶', flag: 'ğŸ‡¨ğŸ‡«' },
  { code: 'ho', name: 'Hiri Motu', nativeName: 'Hiri Motu', flag: 'ğŸ‡µğŸ‡¬' },
  { code: 'tpi', name: 'Tok Pisin', nativeName: 'Tok Pisin', flag: 'ğŸ‡µğŸ‡¬' },
  { code: 'bi', name: 'Bislama', nativeName: 'Bislama', flag: 'ğŸ‡»ğŸ‡º' },
  { code: 'fj', name: 'Fijian', nativeName: 'Vosa Vakaviti', flag: 'ğŸ‡«ğŸ‡¯' },
  { code: 'mi', name: 'MÄori', nativeName: 'Te Reo MÄori', flag: 'ğŸ‡³ğŸ‡¿' },
  { code: 'sm', name: 'Samoan', nativeName: 'Gagana Samoa', flag: 'ğŸ‡¼ğŸ‡¸' },
  { code: 'to', name: 'Tongan', nativeName: 'Lea Fakatonga', flag: 'ğŸ‡¹ğŸ‡´' },
  { code: 'ty', name: 'Tahitian', nativeName: 'Reo Tahiti', flag: 'ğŸ‡µğŸ‡«' },
  { code: 'na', name: 'Nauru', nativeName: 'EkakairÅ© Naoero', flag: 'ğŸ‡³ğŸ‡·' },
  { code: 'mh', name: 'Marshallese', nativeName: 'Kajin MÌ§ajeÄ¼', flag: 'ğŸ‡²ğŸ‡­' },
  { code: 'ch', name: 'Chamorro', nativeName: 'Chamoru', flag: 'ğŸ‡¬ğŸ‡º' },
  { code: 'pau', name: 'Palauan', nativeName: 'Tekoi ra Belau', flag: 'ğŸ‡µğŸ‡¼' },
  { code: 'chk', name: 'Chuukese', nativeName: 'Chuukese', flag: 'ğŸ‡«ğŸ‡²' },
  { code: 'kos', name: 'Kosraean', nativeName: 'Kosrae', flag: 'ğŸ‡«ğŸ‡²' },
  { code: 'pon', name: 'Pohnpeian', nativeName: 'Pohnpeian', flag: 'ğŸ‡«ğŸ‡²' },
  { code: 'yap', name: 'Yapese', nativeName: 'Yapese', flag: 'ğŸ‡«ğŸ‡²' },
  { code: 'gil', name: 'Gilbertese', nativeName: 'Kiribati', flag: 'ğŸ‡°ğŸ‡®' },
  { code: 'tvl', name: 'Tuvaluan', nativeName: 'Te Ggana Tuuvalu', flag: 'ğŸ‡¹ğŸ‡»' },
  { code: 'niu', name: 'Niuean', nativeName: 'Ko e Vagahau NiuÄ“', flag: 'ğŸ‡³ğŸ‡º' },
  { code: 'tkl', name: 'Tokelauan', nativeName: 'Gagana Tokelau', flag: 'ğŸ‡¹ğŸ‡°' },
  { code: 'crs', name: 'Seychellois Creole', nativeName: 'Seselwa', flag: 'ğŸ‡¸ğŸ‡¨' },
  { code: 'mfe', name: 'Morisyen', nativeName: 'Kreol morisien', flag: 'ğŸ‡²ğŸ‡º' },
  { code: 'gcf', name: 'Guadeloupean Creole', nativeName: 'KrÃ©yÃ²l gwadloupÃ©yen', flag: 'ğŸ‡¬ğŸ‡µ' },
  { code: 'ht', name: 'Haitian Creole', nativeName: 'KreyÃ²l ayisyen', flag: 'ğŸ‡­ğŸ‡¹' },
  { code: 'pap', name: 'Papiamento', nativeName: 'Papiamentu', flag: 'ğŸ‡¦ğŸ‡¼' },
  { code: 'srn', name: 'Sranan Tongo', nativeName: 'Sranan Tongo', flag: 'ğŸ‡¸ğŸ‡·' },
];

// Translation keys for common UI elements
const TRANSLATIONS: Record<string, Record<string, string>> = {
  en: {
    'settings': 'Settings',
    'language': 'Language',
    'search_languages': 'Search languages...',
    'select_language': 'Select Language',
    'save': 'Save',
    'cancel': 'Cancel',
    'dashboard': 'Dashboard',
    'assets': 'Assets',
    'trade': 'Trade',
    'markets': 'Markets',
    'earn': 'Earn',
    'profile': 'Profile',
    'balance': 'Balance',
    'portfolio': 'Portfolio',
    'notifications': 'Notifications',
    'security': 'Security',
    'help': 'Help',
    'logout': 'Logout',
    'welcome': 'Welcome',
    'total_balance': 'Total Balance',
    'buy': 'Buy',
    'sell': 'Sell',
    'deposit': 'Deposit',
    'withdraw': 'Withdraw',
    'currency': 'Currency',
    'theme': 'Theme',
    'dark_mode': 'Dark Mode',
    'light_mode': 'Light Mode',
    'auto': 'Auto',
    'account_info': 'Account Info',
    'profile_picture': 'Profile Picture',
    'nickname': 'Nickname',
    'uid': 'UID',
    'identity_verification': 'Identity Verification',
    'currency_display': 'Currency Display',
    'color_theme': 'Color Theme',
    'screen_lock': 'Screen Lock',
    'fingerprint_login': 'Fingerprint Login',
    'face_id_login': 'Face ID Login',
    'login_notifications': 'Login Notifications',
    'trading_alerts': 'Trading Alerts',
    'price_alerts': 'Price Alerts',
    'news_alerts': 'News Alerts',
    'system_notifications': 'System Notifications',
    'invite_friends': 'Invite Friends',
    'support': 'Support',
    'about': 'About',
    'privacy_policy': 'Privacy Policy',
    'terms_of_service': 'Terms of Service',
    'version': 'Version',
    'home': 'Home',
    'spot_trading': 'Spot Trading',
    'futures_trading': 'Futures Trading',
    'convert': 'Convert',
    'my_assets': 'My Assets',
    'total_value': 'Total Value',
    'available_balance': 'Available Balance',
    'frozen_balance': 'Frozen Balance',
    'profit_loss': 'Profit & Loss',
    'today': 'Today',
    'yesterday': 'Yesterday',
    'this_week': 'This Week',
    'this_month': 'This Month',
    'all_time': 'All Time',
    'price': 'Price',
    'change': 'Change',
    'volume': 'Volume',
    'market_cap': 'Market Cap',
    'high': 'High',
    'low': 'Low',
    'open': 'Open',
    'close': 'Close',
    'loading': 'Loading...',
    'error': 'Error',
    'try_again': 'Try Again',
    'no_data': 'No Data Available',
    'search': 'Search',
    'filter': 'Filter',
    'sort': 'Sort',
    'recent': 'Recent',
    'favorites': 'Favorites',
    'watchlist': 'Watchlist',
    'top_gainers': 'Top Gainers',
    'top_losers': 'Top Losers',
    'trending': 'Trending',
    'new_listings': 'New Listings'
  },
  zh: {
    'settings': 'è®¾ç½®',
    'language': 'è¯­è¨€',
    'search_languages': 'æœç´¢è¯­è¨€...',
    'select_language': 'é€‰æ‹©è¯­è¨€',
    'save': 'ä¿å­˜',
    'cancel': 'å–æ¶ˆ',
    'dashboard': 'ä»ªè¡¨æ¿',
    'assets': 'èµ„äº§',
    'trade': 'äº¤æ˜“',
    'markets': 'å¸‚åœº',
    'earn': 'èµšå–',
    'profile': 'ä¸ªäººèµ„æ–™',
    'balance': 'ä½™é¢',
    'portfolio': 'æŠ•èµ„ç»„åˆ',
    'notifications': 'é€šçŸ¥',
    'security': 'å®‰å…¨',
    'help': 'å¸®åŠ©',
    'logout': 'ç™»å‡º',
    'welcome': 'æ¬¢è¿',
    'total_balance': 'æ€»ä½™é¢',
    'buy': 'ä¹°å…¥',
    'sell': 'å–å‡º',
    'deposit': 'å­˜æ¬¾',
    'withdraw': 'ææ¬¾',
    'currency': 'è´§å¸',
    'theme': 'ä¸»é¢˜',
    'dark_mode': 'æ·±è‰²æ¨¡å¼',
    'light_mode': 'æµ…è‰²æ¨¡å¼',
    'auto': 'è‡ªåŠ¨',
    'account_info': 'è´¦æˆ·ä¿¡æ¯',
    'profile_picture': 'å¤´åƒ',
    'nickname': 'æ˜µç§°',
    'uid': 'ç”¨æˆ·ID',
    'identity_verification': 'èº«ä»½éªŒè¯',
    'currency_display': 'è´§å¸æ˜¾ç¤º',
    'color_theme': 'é¢œè‰²ä¸»é¢˜',
    'screen_lock': 'å±å¹•é”å®š',
    'fingerprint_login': 'æŒ‡çº¹ç™»å½•',
    'face_id_login': 'é¢å®¹IDç™»å½•',
    'login_notifications': 'ç™»å½•é€šçŸ¥',
    'trading_alerts': 'äº¤æ˜“æé†’',
    'price_alerts': 'ä»·æ ¼æé†’',
    'news_alerts': 'æ–°é—»æé†’',
    'system_notifications': 'ç³»ç»Ÿé€šçŸ¥',
    'invite_friends': 'é‚€è¯·æœ‹å‹',
    'support': 'æ”¯æŒ',
    'about': 'å…³äº',
    'privacy_policy': 'éšç§æ”¿ç­–',
    'terms_of_service': 'æœåŠ¡æ¡æ¬¾',
    'version': 'ç‰ˆæœ¬',
    'home': 'é¦–é¡µ',
    'spot_trading': 'ç°è´§äº¤æ˜“',
    'futures_trading': 'æœŸè´§äº¤æ˜“',
    'convert': 'å…‘æ¢',
    'my_assets': 'æˆ‘çš„èµ„äº§',
    'total_value': 'æ€»ä»·å€¼',
    'available_balance': 'å¯ç”¨ä½™é¢',
    'frozen_balance': 'å†»ç»“ä½™é¢',
    'profit_loss': 'ç›ˆäº',
    'today': 'ä»Šå¤©',
    'yesterday': 'æ˜¨å¤©',
    'this_week': 'æœ¬å‘¨',
    'this_month': 'æœ¬æœˆ',
    'all_time': 'æ‰€æœ‰æ—¶é—´',
    'price': 'ä»·æ ¼',
    'change': 'å˜åŒ–',
    'volume': 'æˆäº¤é‡',
    'market_cap': 'å¸‚å€¼',
    'high': 'æœ€é«˜',
    'low': 'æœ€ä½',
    'open': 'å¼€ç›˜',
    'close': 'æ”¶ç›˜',
    'loading': 'åŠ è½½ä¸­...',
    'error': 'é”™è¯¯',
    'try_again': 'é‡è¯•',
    'no_data': 'æ— æ•°æ®',
    'search': 'æœç´¢',
    'filter': 'ç­›é€‰',
    'sort': 'æ’åº',
    'recent': 'æœ€è¿‘',
    'favorites': 'æ”¶è—',
    'watchlist': 'å…³æ³¨åˆ—è¡¨',
    'top_gainers': 'æ¶¨å¹…æ¦œ',
    'top_losers': 'è·Œå¹…æ¦œ',
    'trending': 'çƒ­é—¨',
    'new_listings': 'æ–°ä¸Šå¸‚'
  },
  ja: {
    'settings': 'è¨­å®š',
    'language': 'è¨€èª',
    'search_languages': 'è¨€èªã‚’æ¤œç´¢...',
    'select_language': 'è¨€èªã‚’é¸æŠ',
    'save': 'ä¿å­˜',
    'cancel': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
    'dashboard': 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
    'assets': 'è³‡ç”£',
    'trade': 'å–å¼•',
    'markets': 'ãƒãƒ¼ã‚±ãƒƒãƒˆ',
    'earn': 'åç›Š',
    'profile': 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«',
    'balance': 'æ®‹é«˜',
    'portfolio': 'ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª',
    'notifications': 'é€šçŸ¥',
    'security': 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£',
    'help': 'ãƒ˜ãƒ«ãƒ—',
    'logout': 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
    'welcome': 'ã‚ˆã†ã“ã',
    'total_balance': 'ç·æ®‹é«˜',
    'buy': 'è²·ã„',
    'sell': 'å£²ã‚Š',
    'deposit': 'å…¥é‡‘',
    'withdraw': 'å‡ºé‡‘',
    'currency': 'é€šè²¨',
    'theme': 'ãƒ†ãƒ¼ãƒ',
    'dark_mode': 'ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰',
    'light_mode': 'ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰',
    'auto': 'è‡ªå‹•'
  },
  ko: {
    'settings': 'ì„¤ì •',
    'language': 'ì–¸ì–´',
    'search_languages': 'ì–¸ì–´ ê²€ìƒ‰...',
    'select_language': 'ì–¸ì–´ ì„ íƒ',
    'save': 'ì €ì¥',
    'cancel': 'ì·¨ì†Œ',
    'dashboard': 'ëŒ€ì‹œë³´ë“œ',
    'assets': 'ìì‚°',
    'trade': 'ê±°ë˜',
    'markets': 'ë§ˆì¼“',
    'earn': 'ìˆ˜ìµ',
    'profile': 'í”„ë¡œí•„',
    'balance': 'ì”ê³ ',
    'portfolio': 'í¬íŠ¸í´ë¦¬ì˜¤',
    'notifications': 'ì•Œë¦¼',
    'security': 'ë³´ì•ˆ',
    'help': 'ë„ì›€ë§',
    'logout': 'ë¡œê·¸ì•„ì›ƒ',
    'welcome': 'í™˜ì˜í•©ë‹ˆë‹¤',
    'total_balance': 'ì´ ì”ê³ ',
    'buy': 'ë§¤ìˆ˜',
    'sell': 'ë§¤ë„',
    'deposit': 'ì…ê¸ˆ',
    'withdraw': 'ì¶œê¸ˆ',
    'currency': 'í†µí™”',
    'theme': 'í…Œë§ˆ',
    'dark_mode': 'ë‹¤í¬ ëª¨ë“œ',
    'light_mode': 'ë¼ì´íŠ¸ ëª¨ë“œ',
    'auto': 'ìë™'
  },
  es: {
    'settings': 'ConfiguraciÃ³n',
    'language': 'Idioma',
    'search_languages': 'Buscar idiomas...',
    'select_language': 'Seleccionar idioma',
    'save': 'Guardar',
    'cancel': 'Cancelar',
    'dashboard': 'Panel de control',
    'assets': 'Activos',
    'trade': 'Comercio',
    'markets': 'Mercados',
    'earn': 'Ganar',
    'profile': 'Perfil',
    'balance': 'Saldo',
    'portfolio': 'Cartera',
    'notifications': 'Notificaciones',
    'security': 'Seguridad',
    'help': 'Ayuda',
    'logout': 'Cerrar sesiÃ³n',
    'welcome': 'Bienvenido',
    'total_balance': 'Saldo total',
    'buy': 'Comprar',
    'sell': 'Vender',
    'deposit': 'DepÃ³sito',
    'withdraw': 'Retirar',
    'currency': 'Moneda',
    'theme': 'Tema',
    'dark_mode': 'Modo oscuro',
    'light_mode': 'Modo claro',
    'auto': 'AutomÃ¡tico'
  },
  fr: {
    'settings': 'ParamÃ¨tres',
    'language': 'Langue',
    'search_languages': 'Rechercher des langues...',
    'select_language': 'SÃ©lectionner la langue',
    'save': 'Enregistrer',
    'cancel': 'Annuler',
    'dashboard': 'Tableau de bord',
    'assets': 'Actifs',
    'trade': 'Commerce',
    'markets': 'MarchÃ©s',
    'earn': 'Gagner',
    'profile': 'Profil',
    'balance': 'Solde',
    'portfolio': 'Portefeuille',
    'notifications': 'Notifications',
    'security': 'SÃ©curitÃ©',
    'help': 'Aide',
    'logout': 'DÃ©connexion',
    'welcome': 'Bienvenue',
    'total_balance': 'Solde total',
    'buy': 'Acheter',
    'sell': 'Vendre',
    'deposit': 'DÃ©pÃ´t',
    'withdraw': 'Retirer',
    'currency': 'Devise',
    'theme': 'ThÃ¨me',
    'dark_mode': 'Mode sombre',
    'light_mode': 'Mode clair',
    'auto': 'Automatique'
  },
  de: {
    'settings': 'Einstellungen',
    'language': 'Sprache',
    'search_languages': 'Sprachen suchen...',
    'select_language': 'Sprache auswÃ¤hlen',
    'save': 'Speichern',
    'cancel': 'Abbrechen',
    'dashboard': 'Dashboard',
    'assets': 'VermÃ¶gen',
    'trade': 'Handel',
    'markets': 'MÃ¤rkte',
    'earn': 'Verdienen',
    'profile': 'Profil',
    'balance': 'Guthaben',
    'portfolio': 'Portfolio',
    'notifications': 'Benachrichtigungen',
    'security': 'Sicherheit',
    'help': 'Hilfe',
    'logout': 'Abmelden',
    'welcome': 'Willkommen',
    'total_balance': 'Gesamtguthaben',
    'buy': 'Kaufen',
    'sell': 'Verkaufen',
    'deposit': 'Einzahlen',
    'withdraw': 'Abheben',
    'currency': 'WÃ¤hrung',
    'theme': 'Design',
    'dark_mode': 'Dunkler Modus',
    'light_mode': 'Heller Modus',
    'auto': 'Automatisch'
  },
  pt: {
    'settings': 'ConfiguraÃ§Ãµes',
    'language': 'Idioma',
    'search_languages': 'Pesquisar idiomas...',
    'select_language': 'Selecionar idioma',
    'save': 'Salvar',
    'cancel': 'Cancelar',
    'dashboard': 'Painel',
    'assets': 'Ativos',
    'trade': 'Negociar',
    'markets': 'Mercados',
    'earn': 'Ganhar',
    'profile': 'Perfil',
    'balance': 'Saldo',
    'portfolio': 'PortfÃ³lio',
    'notifications': 'NotificaÃ§Ãµes',
    'security': 'SeguranÃ§a',
    'help': 'Ajuda',
    'logout': 'Sair',
    'welcome': 'Bem-vindo',
    'total_balance': 'Saldo total',
    'buy': 'Comprar',
    'sell': 'Vender',
    'deposit': 'Depositar',
    'withdraw': 'Sacar',
    'currency': 'Moeda',
    'theme': 'Tema',
    'dark_mode': 'Modo escuro',
    'light_mode': 'Modo claro',
    'auto': 'AutomÃ¡tico'
  }
};

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [currentLanguage, setCurrentLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem('selectedLanguage');
    if (saved) {
      try {
        return JSON.parse(saved);
      } catch {
        return LANGUAGES[0]; // Default to English
      }
    }
    return LANGUAGES[0]; // Default to English
  });

  const setLanguage = (language: Language) => {
    setCurrentLanguage(language);
    localStorage.setItem('selectedLanguage', JSON.stringify(language));
  };

  const t = (key: string): string => {
    const languageCode = currentLanguage.code.split('-')[0]; // Handle variants like zh-TW
    const translations = TRANSLATIONS[languageCode] || TRANSLATIONS['en'];
    return translations[key] || key;
  };

  return (
    <LanguageContext.Provider
      value={{
        currentLanguage,
        languages: LANGUAGES,
        setLanguage,
        t,
      }}
    >
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
}